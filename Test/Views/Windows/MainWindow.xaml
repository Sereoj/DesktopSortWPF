<Window x:Class="Test.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" mc:Ignorable="d"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:vm="clr-namespace:Test.ViewModels"
        xmlns:uc="clr-namespace:Test.Views.Controls"
        Title="{Binding Title}" Height="506" Width="764" 
        ResizeMode="NoResize" WindowStyle="None" 
        WindowState="{Binding MainWindowState, Mode=TwoWay}">
    <Window.Resources>
        <DataTemplate DataType="{x:Type uc:Main}">
            <uc:Main/>
        </DataTemplate>
        <DataTemplate DataType="{x:Type uc:Settings}">
            <uc:Settings/>
        </DataTemplate>
    </Window.Resources>
    <Window.DataContext>
        <vm:MainWindowViewModel/>
    </Window.DataContext>
    <Grid Background="AliceBlue">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="625*"/>
            <ColumnDefinition Width="139*"/>
        </Grid.ColumnDefinitions>

        <Image Source="{Binding PathImageBackground}" Stretch="Fill" Grid.ColumnSpan="2" Visibility="Hidden"/>

        <Grid Grid.ColumnSpan="2">
            <Grid.RowDefinitions>
                <RowDefinition Height="28"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="40"/>
                <RowDefinition Height="28"/>
            </Grid.RowDefinitions>

            <Grid.ColumnDefinitions>
                <ColumnDefinition  Width="*"/>
                <ColumnDefinition  Width="3*"/>
                <ColumnDefinition  Width="45"/>
                <ColumnDefinition  Width="45"/>
            </Grid.ColumnDefinitions>

            <Grid Grid.ColumnSpan="4" Cursor="SizeAll" MouseDown="Grid_MouseDown" Background="{DynamicResource Primary}"/>

            <TextBlock Grid.Column="0" Text="{Binding Title}" Style="{DynamicResource TextBlockTitle}"/>

            <Button Grid.Column="2" Content="&#x005F;" Style="{DynamicResource ButtonToolbar}" Command="{Binding MinimalizeApplicationCommand}"/>
            <Button Grid.Column="3" Content="&#x0078;" Style="{DynamicResource ButtonToolbar}" Command="{Binding CloseApplicationCommand}"/>
            <ContentPresenter Grid.Row="1" Grid.ColumnSpan="4" Content="{Binding SelectedItem, Mode=TwoWay}"/>
            <!--<uc:Main Grid.Row="1" Grid.ColumnSpan="4" Visibility="Visible"/>
            <uc:Settings Grid.Row="1" Grid.ColumnSpan="4" Visibility="Hidden"/>-->
            <Button Grid.Row="2" Grid.Column="3" Content="&#xE994;" Style="{DynamicResource ButtonIcons}" Command="{Binding PageButtonCommand}" CommandParameter="settings" />
            <Button Grid.Row="2" Grid.Column="2" Content="&#xE900;" Style="{DynamicResource ButtonIcons}" Command="{Binding PageButtonCommand}" CommandParameter="home"/>

            <StatusBar Grid.Row="3" Grid.ColumnSpan="4" Background="{DynamicResource Primary}">
                <StatusBarItem>
                    <TextBlock Text="Статус" Foreground="{DynamicResource TextForegroundTitle}" Margin="15,0,0,0"></TextBlock>
                </StatusBarItem>
            </StatusBar>
        </Grid>
    </Grid>
</Window>
